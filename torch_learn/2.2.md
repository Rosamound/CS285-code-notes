# ModuleList 和 Sequential的对比

名称	一句话记忆
nn.Sequential	用于“线性堆叠”的网络结构（从上到下跑一遍）
nn.ModuleList	用于“灵活结构”，你来定义 forward 怎么走

# 代码对比：

```
class NetModuleList(nn.Module):
    def __init__(self):
        super().__init__()
        self.layers = nn.ModuleList([
            nn.Linear(10, 20),
            nn.Linear(20, 20),
            nn.Linear(20, 5)
        ])

    def forward(self, x):
        # 这里可以自由定义前向传播逻辑
        for i, layer in enumerate(self.layers):
            x = layer(x)
            if i < len(self.layers) - 1:
                x = torch.relu(x)
        return x

x = torch.randn(2, 10)
model = NetModuleList()
out = model(x)
print(out.shape)  # [2, 5]

```

```
import torch
import torch.nn as nn

class NetSequential(nn.Module):
    def __init__(self):
        super().__init__()
        self.layers = nn.Sequential(
            nn.Linear(10, 20),
            nn.ReLU(),
            nn.Linear(20, 5)
        )

    def forward(self, x):
        return self.layers(x)  # 自动按顺序执行

x = torch.randn(2, 10)
model = NetSequential()
out = model(x)
print(out.shape)  # [2, 5]

```
